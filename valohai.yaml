- step:
    name: preprocess-dataset
    image: python:3.9
    command:
    - pip install -r requirements.txt
    - python ./preprocess_dataset.py {parameters}
    parameters:
      - name: execution_date
        type: string
        default: ""
    inputs:
      - name: raw
        default: "s3://pressure-analysis-and-fc-dev/raw/date={parameter:execution_date}"
- step:
    name: aggregation
    image: python:3.10.7
    command:
    - pip install -r aggregation/requirements.txt
    - python aggregation/main.py {parameters}
    parameters:
    - name: sensor_id
      type: string
    - name: execution_date
      type: string
      optional: true
    inputs:
    - name: transformed
      default: s3://pressure-analysis-and-fc-dev/transformed/*
      keep-directories: suffix
      optional: false
- pipeline:
    name: preprocess-and-aggregation
    nodes:
    - name: preprocess
      type: execution
      step: preprocess-dataset
    - name: aggregation
      type: task
      step: aggregation
    edges:
    